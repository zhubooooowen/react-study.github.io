{"version":3,"sources":["components/Pagination/index.tsx","pages/Pagination/index.tsx"],"names":["Option","Select","Pagination","props","defaultCurrent","pageChange","sizeChange","useState","pageSize","setPageSize","length","Math","ceil","total","current","setCurrent","pageArr","setPageArr","initPage","arr","i","push","handlePage","useCallback","item","useEffect","className","onClick","num","map","placeholder","style","width","marginLeft","onChange","e","value","PaginationPage","console","log","id"],"mappings":"2MAIMA,G,OAASC,IAAOD,QAyHPE,EA/GsB,SAACC,GAAmB,IAC/CC,EAA2CD,EAA3CC,eAAgBC,EAA2BF,EAA3BE,WAAYC,EAAeH,EAAfG,WADkB,EAGtBC,mBAAiBJ,EAAMK,UAAY,IAHb,mBAG/CA,EAH+C,KAGrCC,EAHqC,KAIhDC,EAASC,KAAKC,KAAKT,EAAMU,MAAQL,GAJe,EAKxBD,mBAASH,GAAkBM,EAASN,EAAiBM,GAAU,GALvC,mBAK/CI,EAL+C,KAKtCC,EALsC,OAMxBR,mBAAc,IANU,mBAM/CS,EAN+C,KAMtCC,EANsC,KAQhDC,EAAW,SAACR,GAChB,IAAIS,EAAM,GACV,GAAIT,GAAU,EACZ,IAAK,IAAIU,EAAI,EAAGA,GAAKV,EAAQU,IAC3BD,EAAIE,KAAKD,QAGXD,EAAM,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,qBAAOT,GAE/B,OAAOS,GAGHG,EAAaC,uBAAY,SAACC,GAC9BnB,EAAWmB,GACX,IAAIL,EAAM,GACV,GAAIT,GAAU,GAAKc,GAAQ,EACzB,GAAIA,GAAQd,EAAS,EAEnBS,EAAM,CAACK,EAAO,EAAGA,EAAO,EAAGA,EAAMA,EAAO,EAAGA,EAAO,EAAG,qBAAOd,QAI5D,IADA,IACSU,EADKV,EAAS,EACHU,GAAKV,EAAQU,IAC/BD,EAAIE,KAAKD,QAKbD,EAAMD,EAASR,GAEjBO,EAAWE,GACXJ,EAAWS,KACV,CAACnB,EAAYK,IAEhBe,qBAAU,WACR,IAAMN,EAAMD,EAASR,GACrBO,EAAWE,GACC,IAAZL,GAAiBQ,EAAWR,KAC3B,CAACJ,EAAQI,EAASQ,IAoBrB,OACE,qBAAII,UAAU,aAAd,UACGZ,GAAW,EACV,oBAAIY,UAAU,QAAQC,QAAS,kBAAML,EAAW,IAAhD,0BAGE,KACHR,EAAU,EACT,oBAAIY,UAAU,OAAOC,QA1BR,WACjB,IAAMC,EAAMd,EAAU,EAAIA,EAAU,EAAIA,EACxCC,EAAWa,GACXN,EAAWM,IAuBP,gCAGE,KACHZ,EAAQa,KAAI,SAACL,EAAWJ,GAAZ,OACX,oBAEEM,UACW,uBAATF,EAAiB,OAASA,IAASV,EAAU,SAAW,GAE1Da,QAAkB,uBAATH,EAAiB,aAAmB,kBAAMF,EAAWE,IALhE,SAOGA,GANIJ,MASRN,EAAUJ,EACT,oBAAIgB,UAAU,OAAOC,QApCR,WACjB,IAAMC,EAAMd,EAAUJ,EAASI,EAAU,EAAIA,EAC7CC,EAAWa,GACXN,EAAWM,IAiCP,gCAGE,KACHtB,EACC,cAAC,IAAD,CACEwB,YAAY,2BACZC,MAAO,CAAEC,MAAO,IAAKC,WAAY,OACjCC,SAtCO,SAACC,GACd1B,EAAY0B,GACZpB,EAAW,GACXO,EAAW,IAgCP,SAKGhB,EAAWuB,KAAI,SAACL,EAAMJ,GAAP,OACd,eAACpB,EAAD,CAAQoC,MAAOZ,EAAf,UACGA,EADH,kBAA0BJ,QAK5B,S,OCxDKiB,UA5DkB,WAE/B,IAAMhC,EAAa,SAAC8B,GAClBG,QAAQC,IAAIJ,IAGd,OACE,sBAAKK,GAAG,iBAAR,UACE,qBAAKd,UAAU,OAAf,SACE,cAAC,EAAD,CACEtB,eAAgB,EAChBS,MAAO,GACPL,SAAU,GACVH,WAAYA,MAGhB,qBAAKqB,UAAU,OAAf,SACE,cAAC,EAAD,CACEtB,eAAgB,EAChBS,MAAO,GACPL,SAAU,GACVH,WAAYA,MAGhB,qBAAKqB,UAAU,OAAf,SACE,cAAC,EAAD,CACEtB,eAAgB,EAChBS,MAAO,IACPL,SAAU,GACVH,WAAYA,MAGhB,qBAAKqB,UAAU,OAAf,SACE,cAAC,EAAD,CACEtB,eAAgB,EAChBS,MAAO,IACPL,SAAU,GACVH,WAAYA,MAGhB,qBAAKqB,UAAU,OAAf,SACE,cAAC,EAAD,CACEtB,eAAgB,EAChBS,MAAO,IACPL,SAAU,GACVH,WAAYA,MAGhB,qBAAKqB,UAAU,OAAf,SACE,cAAC,EAAD,CACEpB,WAAY,CAAC,GAAI,GAAI,IACrBF,eAAgB,EAChBS,MAAO,IACPL,SAAU,GACVH,WAAYA","file":"static/js/8.91a9d418.chunk.js","sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport { Select } from \"antd\";\nimport \"./index.less\";\n\nconst Option = Select.Option;\n\ninterface Iprops {\n  total: number,\n  pageSize: number,\n  defaultCurrent: number,\n  pageChange: Function,\n  sizeChange?: number[],\n}\n\nconst Pagination: React.FC<Iprops> = (props: Iprops) => {\n  const { defaultCurrent, pageChange, sizeChange } = props\n\n  const [pageSize, setPageSize] = useState<number>(props.pageSize || 10)\n  const length = Math.ceil(props.total / pageSize);\n  const [current, setCurrent] = useState(defaultCurrent <= length ? defaultCurrent : length || 1)\n  const [pageArr, setPageArr] = useState<any>([])\n\n  const initPage = (length: number) => {\n    let arr = [];\n    if (length <= 6) {\n      for (let i = 1; i <= length; i++) {\n        arr.push(i);\n      }\n    } else {\n      arr = [1, 2, 3, 4, 5, \"•••\", length];\n    }\n    return arr;\n  }\n\n  const handlePage = useCallback((item: number) => {\n    pageChange(item);\n    let arr = [];\n    if (length >= 7 && item >= 3) {\n      if (item <= length - 4) {\n        // 点击页数小于 length - 4 的时候 展示•••\n        arr = [item - 2, item - 1, item, item + 1, item + 2, \"•••\", length];\n      } else {\n        // 点击页数大于 length - 4 的时候 而且页数大于等于 7 页数从 length - 6 开始\n        const start = length - 6;\n        for (let i = start; i <= length; i++) {\n          arr.push(i);\n        }\n      }\n    } else {\n      // 点击 1和2 或 length < 7\n      arr = initPage(length);\n    }\n    setPageArr(arr)\n    setCurrent(item)\n  }, [pageChange, length])\n\n  useEffect(() => {\n    const arr = initPage(length)\n    setPageArr(arr)\n    current !== 1 && handlePage(current)\n  }, [length, current, handlePage])\n\n  const handlePrev = () => {\n    const num = current > 1 ? current - 1 : current;\n    setCurrent(num)\n    handlePage(num)\n  }\n\n  const handleNext = () => {\n    const num = current < length ? current + 1 : current;\n    setCurrent(num)\n    handlePage(num)\n  }\n\n  const select = (e: number) => {\n    setPageSize(e)\n    setCurrent(1)\n    handlePage(1)\n  }\n\n  return (\n    <ul className=\"pagination\">\n      {current >= 4 ? (\n        <li className=\"first\" onClick={() => handlePage(1)}>\n          首页\n        </li>\n      ) : null}\n      {current > 1 ? (\n        <li className=\"prev\" onClick={handlePrev}>\n          上一页\n        </li>\n      ) : null}\n      {pageArr.map((item: any, i: number) => (\n        <li\n          key={i}\n          className={\n            item === \"•••\" ? \"omit\" : item === current ? \"active\" : \"\"\n          }\n          onClick={item === \"•••\" ? () => { return } : () => handlePage(item)}\n        >\n          {item}\n        </li>\n      ))}\n      {current < length ? (\n        <li className=\"next\" onClick={handleNext}>\n          下一页\n        </li>\n      ) : null}\n      {sizeChange ? (\n        <Select\n          placeholder=\"更改条数\"\n          style={{ width: 120, marginLeft: \"8px\" }}\n          onChange={select}\n        >\n          {sizeChange.map((item, i) => (\n            <Option value={item} key={i}>\n              {item}条/页\n            </Option>\n          ))}\n        </Select>\n      ) : null}\n    </ul>\n  );\n}\n\nexport default Pagination;\n","import React from 'react';\nimport Pagination from '@components/Pagination';\nimport './index.less';\n\nconst PaginationPage: React.FC = () => {\n\n  const pageChange = (e: number) => {\n    console.log(e);\n  }\n\n  return (\n    <div id=\"PaginationPage\">\n      <div className=\"wrap\">\n        <Pagination\n          defaultCurrent={1}\n          total={60}\n          pageSize={20}\n          pageChange={pageChange} />\n      </div>\n\n      <div className=\"wrap\">\n        <Pagination\n          defaultCurrent={1}\n          total={90}\n          pageSize={20}\n          pageChange={pageChange} />\n      </div>\n\n      <div className=\"wrap\">\n        <Pagination\n          defaultCurrent={3}\n          total={120}\n          pageSize={20}\n          pageChange={pageChange} />\n      </div>\n\n      <div className=\"wrap\">\n        <Pagination\n          defaultCurrent={1}\n          total={140}\n          pageSize={20}\n          pageChange={pageChange} />\n      </div>\n\n      <div className=\"wrap\">\n        <Pagination\n          defaultCurrent={7}\n          total={200}\n          pageSize={20}\n          pageChange={pageChange} />\n      </div>\n\n      <div className=\"wrap\">\n        <Pagination\n          sizeChange={[20, 10, 50]}\n          defaultCurrent={1}\n          total={990}\n          pageSize={20}\n          pageChange={pageChange} />\n      </div>\n    </div>\n  )\n}\n\nexport default PaginationPage;"],"sourceRoot":""}